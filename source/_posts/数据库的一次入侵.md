---
title: 数据库的一次入侵
date: 2019-04-05 15:53:24
tags: 数据库 漏洞 入侵
---
## 背景
一般我都习惯对别人的服务器进行扫描端口看下有没漏洞。上次获取线上数据库权限是因为mongodb没设密码且开放端口。而这次获取到权限是网站的开放者在5个方面存在漏洞，而只要封住其中任何一个漏洞，我都无法获得里面的用户密码。
## 安全问题
1、git服务和官网放一起，导致被我端口扫描扫描到。

2、代码权限没控制好，新建的一个项目开放了拉取权限（估计是接手的人不熟悉）。

3、新建项目的代码中的mysql密码（mysql默认限制本地登录，所以我无法连接mysql）居然和git的管理员密码一样，让我可以获取到另外.net项目中的线上的mssql密码。

4、mssql 没限制本地连接，通过密码就可以连接上了。

5、数据库的用户密码只单纯做了MD5 加密，对于一些简单的密码可以解到明码。

## 后记
他们原来用.net 开发，用的框架居然是网狐棋牌游戏的框架来做网站，后来换为了thinkPHP，域名指向变了，就找不到了。